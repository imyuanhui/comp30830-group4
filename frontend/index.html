<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dublin Bikes</title>

  <!-- Link to external CSS file for styling -->
  <link rel="stylesheet" href="./static/styles.css" />

  <!-- Link to external JavaScript file with defer attribute to ensure execution after HTML parsing -->
  <script src="./static/index.js" defer></script>

  <!-- Google Charts library for data visualization -->
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
</head>

<body>

  <div id="animated-message">
    <img src="./static/assets/bikegif.gif" alt="Moving Bicycle" style="width: 50px; height: 50px; margin-right: 10px;">
    Ride a Bike, Save the Planet & Stay Fit!
  </div>
  

  <!-- Top bar containing title, logo, weather information, and mode toggle -->
  <div id="top-bar">
    <div id="top-bar-left">
      <h1>
        Dublin Bikes
        <img src="./static/assets/db_image.png" alt="Dublin Bikes Logo" class="db-image" />
      </h1>
    </div>
    
    <div id="top-bar-center">
      <span id="weather" onclick="showWeatherPrompt(53.3409, -6.2625)">Weather Information ‚òÅÔ∏è</span>
      <span id="weather-info"></span> <!-- Added this to display weather inline -->
    </div>
    
    <div id="top-bar-right">
      <div id="bike-slot-toggle">
        <input type="checkbox" class="checkbox" id="modeSwitch" />
        <div class="knobs"></div>
        <div class="layer"></div>
      </div>
    </div>
    
  </div>

  <!-- Main container holds the sidebar and map -->
  <div id="main-container">
    <div id="sidebar">
      <!-- Journey Form Panel for user input -->
      <div id="journey-form-panel">
        <label>Please enter your starting location:</label>
        <input type="text" id="start-location" placeholder="Enter a starting location..." autocomplete="off" />

        <label>Please enter your destination:</label>
        <input type="text" id="destination" placeholder="Enter your destination..." autocomplete="off" />

        <label>When do you want to travel?</label>
        <div class="radio-option">
          <input type="radio" id="mode-now" name="timeMode" value="now" checked />
          <label for="mode-now">Right now</label>
        </div>
        <div class="radio-option">
          <input type="radio" id="mode-future" name="timeMode" value="future" />
          <label for="mode-future">Plan ahead</label>
        </div>

        <!-- Only shown if user selects "Plan ahead" -->
        <label id="day-label" for="day-select" class="disabled-label">Travel day:</label>
        <select id="day-select" disabled>
          <option value="" selected disabled>Choose your day</option>
        </select>

        <label id="hour-label" for="hour-select" class="disabled-label">Travel time:</label>
        <select id="hour-select" disabled>
          <option value="" selected disabled>Choose your time</option>
        </select>

        <!-- Button to plan the journey -->
        <button onclick="planJourney()">Plan Your Journey <span class="stars"></span> </button>
        <div class="legend"></div>
        <!-- üö≤ Bike GIF at bottom of sidebar -->
          <div id="bike-gif-container" style="text-align: center; margin-top: 20px;">
            <img src="./static/assets/bike_gif.gif" alt="Bike GIF" style="width: 100px;" />
          </div>
      </div>



      <!-- Journey Result Panel (initially hidden) -->
      <div id="journey-result-panel" style="display: none">
        <div id="results-content">
          <!-- Journey results will be injected here -->
        </div>

        <!-- Button to return to the journey form -->
        <button onclick="goBackToForm()">‚Üê Back</button>
      </div>
    </div>

    <!-- Map container to display bike station-->
    <div id="map-container">
      <div id="map"></div>
    </div>
    
  </div>

  <!-- Footer with team information -->
  <footer>
    <p>Pedal your way to a cleaner and greener city.</p>
    <p>Created by Wan-Hua Hsieh, Prakhar Dayal, and Yuanhui Xu (Group 4)</p>
    <p>UCD Dublin</p>
  </footer>

  <!-- Modal for displaying additional information -->
  <div id="myModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <p id="modalText"></p>
    </div>
  </div>
</body>

</html>